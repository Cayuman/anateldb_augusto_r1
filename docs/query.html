---

title: Queries


keywords: fastai
sidebar: home_sidebar

summary: "Este módulo executa as queries sql / MongoDB necessárias para baixar os dados do STEL, RADCOM e MOSAICO"
description: "Este módulo executa as queries sql / MongoDB necessárias para baixar os dados do STEL, RADCOM e MOSAICO"
nb_path: "nbs\query.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\query.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conex%C3%A3o-com-o-banco-de-dados">Conex&#227;o com o banco de dados<a class="anchor-link" href="#Conex%C3%A3o-com-o-banco-de-dados"> </a></h2><p>A função a seguir é um <code>wrapper</code> simples que utiliza o <code>pyodbc</code> para se conectar ao banco de dados base da Anatel e retorna o objeto da conexão</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="connect_db" class="doc_header"><code>connect_db</code><a href="https://github.com/ronaldokun/anateldb/tree/master/anateldb/query.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>connect_db</code>()</p>
</blockquote>
<p>Conecta ao Banco ANATELBDRO01 e retorna o 'cursor' (iterador) do Banco pronto para fazer iterações</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_connection</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">connect_db</span><span class="p">()</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="p">(</span><span class="n">RADCOM</span><span class="p">,):</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()),</span> <span class="n">pyodbc</span><span class="o">.</span><span class="n">Row</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_connection</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">path</span> <span class="o">:=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;estações.zip&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">_read_estações</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">from</span> <span class="nn">urllib.error</span> <span class="kn">import</span> <span class="n">URLError</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">ESTACAO</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="k">except</span> <span class="n">URLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s1">&#39;reason&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;We failed to reach a server.&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reason: &#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The server couldn</span><span class="se">\&#39;</span><span class="s1">t fulfill the request.&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error code: &#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;estações.zip&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Atualiza%C3%A7%C3%A3o-das-bases-de-dados">Atualiza&#231;&#227;o das bases de dados<a class="anchor-link" href="#Atualiza%C3%A7%C3%A3o-das-bases-de-dados"> </a></h2><p>As bases de dados são atualizadas atráves das funções a seguir, o único argumento passado em todas elas é a pasta na qual os arquivos locais processados serão salvos, os nomes dos arquivos são padronizados e não podem ser editados para que as funções de leitura e processamento recebam somente a pasta na qual esses arquivos foram salvos.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="update_radcom" class="doc_header"><code>update_radcom</code><a href="https://github.com/ronaldokun/anateldb/tree/master/anateldb/query.py#L106" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>update_radcom</code>(<strong><code>pasta</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Atualiza a tabela local retornada pela query <a href="/anateldb/constants.html#RADCOM"><code>RADCOM</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="update_stel" class="doc_header"><code>update_stel</code><a href="https://github.com/ronaldokun/anateldb/tree/master/anateldb/query.py#L129" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>update_stel</code>(<strong><code>pasta</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Atualiza a tabela local retornada pela query <a href="/anateldb/constants.html#STEL"><code>STEL</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="update_mosaico" class="doc_header"><code>update_mosaico</code><a href="https://github.com/ronaldokun/anateldb/tree/master/anateldb/query.py#L162" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>update_mosaico</code>(<strong><code>pasta</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Atualiza a tabela local do Mosaico. É baixado e processado arquivos xml zipados da página pública do Spectrum E</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="update_base" class="doc_header"><code>update_base</code><a href="https://github.com/ronaldokun/anateldb/tree/master/anateldb/query.py#L192" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>update_base</code>(<strong><code>pasta</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Wrapper que atualiza opcionalmente lê e atualiza as três bases indicadas anteriormente, as combina e salva o arquivo consolidado na pasta <code>pasta</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="n">notebook2script</span><span class="p">;</span> <span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted constants.ipynb.
Converted filter.ipynb.
Converted index.ipynb.
Converted queries.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">gazpacho</span> <span class="kn">import</span> <span class="n">Soup</span><span class="p">,</span> <span class="n">get</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">ESTACOES</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">UnicodeDecodeError</span>                        Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">g:\OneDrive - ANATEL\anateldb\nbs\query.ipynb Cell 13&#39;</span> in <span class="ansi-cyan-fg">&lt;cell line: 2&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000009?line=0&#39;&gt;1&lt;/a&gt;</span> from gazpacho import Soup, get
<span class="ansi-green-intense-fg ansi-bold">----&gt; &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000009?line=1&#39;&gt;2&lt;/a&gt;</span> e = get(ESTACOES)

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\site-packages\gazpacho\get.py:41</span>, in <span class="ansi-cyan-fg">get</span><span class="ansi-blue-intense-fg ansi-bold">(url, params, headers)</span>
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/gazpacho/get.py?line=38&#39;&gt;39&lt;/a&gt;</span> try:
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/gazpacho/get.py?line=39&#39;&gt;40&lt;/a&gt;</span>     with opener.open(url) as response:
<span class="ansi-green-intense-fg ansi-bold">---&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/gazpacho/get.py?line=40&#39;&gt;41&lt;/a&gt;</span>         content = response.read().decode(&#34;utf-8&#34;)
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/gazpacho/get.py?line=41&#39;&gt;42&lt;/a&gt;</span>         if response.headers.get_content_type() == &#34;application/json&#34;:
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/gazpacho/get.py?line=42&#39;&gt;43&lt;/a&gt;</span>             content = json.loads(content)

<span class="ansi-red-intense-fg ansi-bold">UnicodeDecodeError</span>: &#39;utf-8&#39; codec can&#39;t decode byte 0xb8 in position 12: invalid start byte</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="n">ESTACOES</span><span class="p">,</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;estações.zip&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">ESTACAO</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">_read_estações</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
   
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">g:\OneDrive - ANATEL\anateldb\nbs\query.ipynb Cell 16&#39;</span> in <span class="ansi-cyan-fg">&lt;cell line: 1&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000015?line=0&#39;&gt;1&lt;/a&gt;</span> with urlopen(ESTACAO) as f:
<span class="ansi-green-intense-fg ansi-bold">----&gt; &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000015?line=1&#39;&gt;2&lt;/a&gt;</span>     e = _read_estações(f)

<span class="ansi-green-intense-fg ansi-bold">g:\OneDrive - ANATEL\anateldb\nbs\query.ipynb Cell 8&#39;</span> in <span class="ansi-cyan-fg">_read_estações</span><span class="ansi-blue-intense-fg ansi-bold">(path)</span>
<span class="ansi-green-fg">     &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000010?line=13&#39;&gt;14&lt;/a&gt;</span>         return &#34;&#34;, &#34;&#34;
<span class="ansi-green-fg">     &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000010?line=14&#39;&gt;15&lt;/a&gt;</span>     return &#34;&#34;, &#34;&#34;
<span class="ansi-green-intense-fg ansi-bold">---&gt; &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000010?line=16&#39;&gt;17&lt;/a&gt;</span> es = pdx.read_xml(path, [&#34;estacao_rd&#34;])
<span class="ansi-green-fg">     &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000010?line=17&#39;&gt;18&lt;/a&gt;</span> dfs = []
<span class="ansi-green-fg">     &lt;a href=&#39;vscode-notebook-cell:/g%3A/OneDrive%20-%20ANATEL/anateldb/nbs/query.ipynb#ch0000010?line=18&#39;&gt;19&lt;/a&gt;</span> for i in range(es.shape[0]):

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\site-packages\pandas_read_xml.py:25</span>, in <span class="ansi-cyan-fg">read_xml</span><span class="ansi-blue-intense-fg ansi-bold">(path_or_xml, root_key_list, root_is_rows, transpose, encoding)</span>
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/pandas_read_xml.py?line=23&#39;&gt;24&lt;/a&gt;</span> def read_xml(path_or_xml: str, root_key_list: Optional[List[str]]=None, root_is_rows: bool=True, transpose: bool=False, encoding: Optional[str]=None) -&gt; pd.DataFrame:
<span class="ansi-green-intense-fg ansi-bold">---&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/pandas_read_xml.py?line=24&#39;&gt;25&lt;/a&gt;</span>     if urllib.parse.urlparse(path_or_xml).scheme in [&#39;http&#39;, &#39;https&#39;]:
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/pandas_read_xml.py?line=25&#39;&gt;26&lt;/a&gt;</span>         if path_or_xml.endswith(&#39;.zip&#39;):
<span class="ansi-green-fg">     &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/site-packages/pandas_read_xml.py?line=26&#39;&gt;27&lt;/a&gt;</span>             with get_zip_file_from_url(path_or_xml) as zf:

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\urllib\parse.py:375</span>, in <span class="ansi-cyan-fg">urlparse</span><span class="ansi-blue-intense-fg ansi-bold">(url, scheme, allow_fragments)</span>
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=368&#39;&gt;369&lt;/a&gt;</span> def urlparse(url, scheme=&#39;&#39;, allow_fragments=True):
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=369&#39;&gt;370&lt;/a&gt;</span>     &#34;&#34;&#34;Parse a URL into 6 components:
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=370&#39;&gt;371&lt;/a&gt;</span>     &lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=371&#39;&gt;372&lt;/a&gt;</span>     Return a 6-tuple: (scheme, netloc, path, params, query, fragment).
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=372&#39;&gt;373&lt;/a&gt;</span>     Note that we don&#39;t break the components up in smaller bits
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=373&#39;&gt;374&lt;/a&gt;</span>     (e.g. netloc is a single string) and we don&#39;t expand % escapes.&#34;&#34;&#34;
<span class="ansi-green-intense-fg ansi-bold">--&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=374&#39;&gt;375&lt;/a&gt;</span>     url, scheme, _coerce_result = _coerce_args(url, scheme)
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=375&#39;&gt;376&lt;/a&gt;</span>     splitresult = urlsplit(url, scheme, allow_fragments)
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=376&#39;&gt;377&lt;/a&gt;</span>     scheme, netloc, url, query, fragment = splitresult

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\urllib\parse.py:127</span>, in <span class="ansi-cyan-fg">_coerce_args</span><span class="ansi-blue-intense-fg ansi-bold">(*args)</span>
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=124&#39;&gt;125&lt;/a&gt;</span> if str_input:
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=125&#39;&gt;126&lt;/a&gt;</span>     return args + (_noop,)
<span class="ansi-green-intense-fg ansi-bold">--&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=126&#39;&gt;127&lt;/a&gt;</span> return _decode_args(args) + (_encode_result,)

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\urllib\parse.py:111</span>, in <span class="ansi-cyan-fg">_decode_args</span><span class="ansi-blue-intense-fg ansi-bold">(args, encoding, errors)</span>
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=108&#39;&gt;109&lt;/a&gt;</span> def _decode_args(args, encoding=_implicit_encoding,
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=109&#39;&gt;110&lt;/a&gt;</span>                        errors=_implicit_errors):
<span class="ansi-green-intense-fg ansi-bold">--&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=110&#39;&gt;111&lt;/a&gt;</span>     return tuple(x.decode(encoding, errors) if x else &#39;&#39; for x in args)

File <span class="ansi-green-intense-fg ansi-bold">c:\Users\rsilva\Miniconda3\envs\db\lib\urllib\parse.py:111</span>, in <span class="ansi-cyan-fg">&lt;genexpr&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=108&#39;&gt;109&lt;/a&gt;</span> def _decode_args(args, encoding=_implicit_encoding,
<span class="ansi-green-fg">    &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=109&#39;&gt;110&lt;/a&gt;</span>                        errors=_implicit_errors):
<span class="ansi-green-intense-fg ansi-bold">--&gt; &lt;a href=&#39;file:///c%3A/Users/rsilva/Miniconda3/envs/db/lib/urllib/parse.py?line=110&#39;&gt;111&lt;/a&gt;</span>     return tuple(x.decode(encoding, errors) if x else &#39;&#39; for x in args)

<span class="ansi-red-intense-fg ansi-bold">AttributeError</span>: &#39;HTTPResponse&#39; object has no attribute &#39;decode&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

